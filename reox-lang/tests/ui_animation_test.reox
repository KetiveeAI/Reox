// REOX UI and Animation Test Suite
// Tests all UI components and animation system
// File extension: .reox (REOX source file)

// ============================================================
// Type Definitions
// ============================================================
struct Color { r: int, g: int, b: int, a: int }
struct Point { x: float, y: float }
struct Size { w: float, h: float }
struct Rect { x: float, y: float, w: float, h: float }
struct EdgeInsets { top: float, right: float, bottom: float, left: float }
struct Shadow { offset_x: float, offset_y: float, blur: float, color: Color }
struct View { handle: int }
struct App { handle: int }
struct Window { handle: int }
struct Timer { handle: int }

// ============================================================
// Test Result Tracking
// ============================================================
struct TestResult {
    name: string,
    passed: bool,
    message: string
}

let mut total_tests: int = 0;
let mut passed_tests: int = 0;
let mut failed_tests: int = 0;

// ============================================================
// External Functions - Core
// ============================================================
extern fn println(s: string) -> void;
extern fn print(s: string) -> void;
extern fn assert(condition: bool, msg: string) -> void;

// ============================================================
// External Functions - Colors
// ============================================================
extern fn color_rgba(r: int, g: int, b: int, a: int) -> Color;
extern fn color_rgb(r: int, g: int, b: int) -> Color;
extern fn color_hex(hex: int) -> Color;
extern fn color_hsl(h: float, s: float, l: float) -> Color;
extern fn color_hsla(h: float, s: float, l: float, a: float) -> Color;
extern fn color_lighten(c: Color, amount: float) -> Color;
extern fn color_darken(c: Color, amount: float) -> Color;
extern fn color_saturate(c: Color, amount: float) -> Color;
extern fn color_desaturate(c: Color, amount: float) -> Color;
extern fn color_blend(a: Color, b: Color, t: float) -> Color;
extern fn color_complement(c: Color) -> Color;
extern fn color_alpha(c: Color, a: int) -> Color;

// Semantic colors
extern fn color_background() -> Color;
extern fn color_surface() -> Color;
extern fn color_text() -> Color;
extern fn color_primary() -> Color;
extern fn color_secondary() -> Color;
extern fn color_accent() -> Color;
extern fn color_error() -> Color;
extern fn color_warning() -> Color;
extern fn color_success() -> Color;

// ============================================================
// External Functions - Geometry
// ============================================================
extern fn insets_all(value: float) -> EdgeInsets;
extern fn insets(top: float, right: float, bottom: float, left: float) -> EdgeInsets;
extern fn shadow(x: float, y: float, blur: float, color: Color) -> Shadow;
extern fn point(x: float, y: float) -> Point;
extern fn size(w: float, h: float) -> Size;
extern fn rect(x: float, y: float, w: float, h: float) -> Rect;

// ============================================================
// External Functions - Layout
// ============================================================
extern fn vstack(gap: float) -> View;
extern fn hstack(gap: float) -> View;
extern fn zstack() -> View;
extern fn grid(cols: int, rows: int, gap: float) -> View;
extern fn spacer() -> View;
extern fn divider() -> View;

// ============================================================
// External Functions - Widgets
// ============================================================
extern fn text_view(text: string) -> View;
extern fn button_view(label: string) -> View;
extern fn image_view(path: string) -> View;
extern fn input_view(placeholder: string) -> View;
extern fn checkbox_view(label: string, checked: bool) -> View;
extern fn switch_view(on: bool) -> View;
extern fn slider_view(min: float, max: float, value: float) -> View;
extern fn progress_view(value: float) -> View;
extern fn spinner_view() -> View;
extern fn scroll_view() -> View;
extern fn list_view() -> View;

// ============================================================
// External Functions - View Modifiers
// ============================================================
extern fn view_set_background(v: View, c: Color) -> void;
extern fn view_set_padding(v: View, p: EdgeInsets) -> void;
extern fn view_set_corner_radius(v: View, r: float) -> void;
extern fn view_set_shadow(v: View, s: Shadow) -> void;
extern fn view_set_border(v: View, width: float, color: Color) -> void;
extern fn view_set_opacity(v: View, o: float) -> void;
extern fn view_set_size(v: View, w: float, h: float) -> void;
extern fn view_set_min_size(v: View, w: float, h: float) -> void;
extern fn view_set_max_size(v: View, w: float, h: float) -> void;
extern fn view_set_transform(v: View, scale_x: float, scale_y: float, rotate: float) -> void;
extern fn view_add_child(parent: View, child: View) -> void;
extern fn view_set_hidden(v: View, hidden: bool) -> void;
extern fn view_set_enabled(v: View, enabled: bool) -> void;

// ============================================================
// External Functions - Text Modifiers
// ============================================================
extern fn text_set_font_size(v: View, size: float) -> void;
extern fn text_set_font_weight(v: View, weight: int) -> void;
extern fn text_set_color(v: View, c: Color) -> void;
extern fn text_set_align(v: View, align: int) -> void;
extern fn text_set_line_height(v: View, height: float) -> void;
extern fn text_set_letter_spacing(v: View, spacing: float) -> void;

// ============================================================
// External Functions - Button Modifiers
// ============================================================
extern fn button_set_style(v: View, normal: Color, hover: Color, pressed: Color) -> void;
extern fn button_set_on_click(v: View, callback: fn() -> void) -> void;

// ============================================================
// External Functions - Slider Modifiers
// ============================================================
extern fn slider_set_track_color(v: View, c: Color) -> void;
extern fn slider_set_thumb_color(v: View, c: Color) -> void;
extern fn slider_set_on_change(v: View, callback: fn(float) -> void) -> void;

// ============================================================
// External Functions - Animation
// ============================================================
extern fn animate_fade_in(v: View, duration: float) -> void;
extern fn animate_fade_out(v: View, duration: float) -> void;
extern fn animate_slide_in(v: View, from_x: float, from_y: float, duration: float) -> void;
extern fn animate_slide_out(v: View, to_x: float, to_y: float, duration: float) -> void;
extern fn animate_scale(v: View, from: float, to: float, duration: float) -> void;
extern fn animate_rotate(v: View, degrees: float, duration: float) -> void;
extern fn animate_pulse(v: View, duration: float) -> void;
extern fn animate_bounce(v: View, duration: float) -> void;
extern fn animate_shake(v: View, duration: float) -> void;
extern fn animate_color(v: View, from: Color, to: Color, duration: float) -> void;

// Easing functions
extern fn ease_linear(t: float) -> float;
extern fn ease_in_quad(t: float) -> float;
extern fn ease_out_quad(t: float) -> float;
extern fn ease_in_out_quad(t: float) -> float;
extern fn ease_in_cubic(t: float) -> float;
extern fn ease_out_cubic(t: float) -> float;
extern fn ease_in_out_cubic(t: float) -> float;
extern fn ease_spring(t: float, tension: float, friction: float) -> float;
extern fn ease_bounce(t: float) -> float;
extern fn ease_elastic(t: float) -> float;

// Animation control
extern fn animation_start(v: View) -> void;
extern fn animation_stop(v: View) -> void;
extern fn animation_pause(v: View) -> void;
extern fn animation_resume(v: View) -> void;
extern fn animation_set_loop(v: View, loop_count: int) -> void;
extern fn animation_set_delay(v: View, delay: float) -> void;
extern fn animation_set_easing(v: View, easing: fn(float) -> float) -> void;

// Keyframe animations
extern fn keyframe_create() -> int;
extern fn keyframe_add(kf: int, time: float, property: string, value: float) -> void;
extern fn keyframe_apply(v: View, kf: int, duration: float) -> void;

// ============================================================
// External Functions - Transitions
// ============================================================
extern fn transition_push(from: View, to: View, duration: float) -> void;
extern fn transition_pop(from: View, to: View, duration: float) -> void;
extern fn transition_fade(from: View, to: View, duration: float) -> void;
extern fn transition_slide(from: View, to: View, direction: int, duration: float) -> void;
extern fn transition_zoom(from: View, to: View, duration: float) -> void;

// ============================================================
// External Functions - App & Window
// ============================================================
extern fn app_new(name: string) -> App;
extern fn app_create_window(a: App, title: string, w: int, h: int) -> Window;
extern fn app_run(a: App) -> void;
extern fn window_set_root(win: Window, v: View) -> void;
extern fn window_set_title(win: Window, title: string) -> void;
extern fn window_set_size(win: Window, w: int, h: int) -> void;
extern fn window_close(win: Window) -> void;

// Timer
extern fn timer_create(interval: float, callback: fn() -> void) -> Timer;
extern fn timer_start(t: Timer) -> void;
extern fn timer_stop(t: Timer) -> void;

// ============================================================
// Test Helper Functions
// ============================================================
fn test_start(name: string) -> void {
    total_tests = total_tests + 1;
    print("[TEST] ");
    print(name);
    print(" ... ");
}

fn test_pass() -> void {
    passed_tests = passed_tests + 1;
    println("PASSED");
}

fn test_fail(reason: string) -> void {
    failed_tests = failed_tests + 1;
    print("FAILED: ");
    println(reason);
}

fn test_summary() -> void {
    println("");
    println("========================================");
    println("TEST SUMMARY");
    println("========================================");
    print("Total:  ");
    // Note: Would need int_to_string extern for proper output
    println("See counts above");
    print("Passed: ");
    println("See counts above");
    print("Failed: ");
    println("See counts above");
    
    if failed_tests == 0 {
        println("");
        println("ALL TESTS PASSED!");
    } else {
        println("");
        println("SOME TESTS FAILED!");
    }
}

// ============================================================
// TEST 1: Color System
// ============================================================
fn test_color_system() -> void {
    println("");
    println("=== COLOR SYSTEM TESTS ===");
    
    // Test RGBA color creation
    test_start("color_rgba creation");
    let red: Color = color_rgba(255, 0, 0, 255);
    if red.r == 255 && red.g == 0 && red.b == 0 && red.a == 255 {
        test_pass();
    } else {
        test_fail("RGBA values incorrect");
    }
    
    // Test color blending
    test_start("color_blend interpolation");
    let white: Color = color_rgba(255, 255, 255, 255);
    let black: Color = color_rgba(0, 0, 0, 255);
    let gray: Color = color_blend(white, black, 0.5);
    if gray.r > 120 && gray.r < 135 {
        test_pass();
    } else {
        test_fail("Blend result not gray");
    }
    
    // Test color lightening
    test_start("color_lighten");
    let base: Color = color_rgba(100, 100, 100, 255);
    let light: Color = color_lighten(base, 0.2);
    if light.r > base.r && light.g > base.g && light.b > base.b {
        test_pass();
    } else {
        test_fail("Lightened color not lighter");
    }
    
    // Test color darkening
    test_start("color_darken");
    let dark: Color = color_darken(base, 0.2);
    if dark.r < base.r && dark.g < base.g && dark.b < base.b {
        test_pass();
    } else {
        test_fail("Darkened color not darker");
    }
    
    // Test semantic colors
    test_start("semantic colors availability");
    let bg: Color = color_background();
    let txt: Color = color_text();
    let pri: Color = color_primary();
    // Just verify they return valid colors (non-null handles would be checked in C runtime)
    test_pass();
}

// ============================================================
// TEST 2: Layout System
// ============================================================
fn test_layout_system() -> void {
    println("");
    println("=== LAYOUT SYSTEM TESTS ===");
    
    // Test VStack creation
    test_start("vstack creation");
    let stack: View = vstack(10.0);
    if stack.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid vstack handle");
    }
    
    // Test HStack creation
    test_start("hstack creation");
    let hstack_view: View = hstack(8.0);
    if hstack_view.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid hstack handle");
    }
    
    // Test grid creation
    test_start("grid creation");
    let grid_view: View = grid(3, 2, 4.0);
    if grid_view.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid grid handle");
    }
    
    // Test nested layout
    test_start("nested layout");
    let outer: View = vstack(12.0);
    let inner1: View = hstack(8.0);
    let inner2: View = hstack(8.0);
    view_add_child(outer, inner1);
    view_add_child(outer, inner2);
    test_pass();  // No crash = pass
    
    // Test spacer
    test_start("spacer creation");
    let sp: View = spacer();
    if sp.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid spacer handle");
    }
}

// ============================================================
// TEST 3: Widget System
// ============================================================
fn test_widget_system() -> void {
    println("");
    println("=== WIDGET SYSTEM TESTS ===");
    
    // Test text_view
    test_start("text_view creation");
    let txt: View = text_view("Hello, REOX!");
    if txt.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid text_view handle");
    }
    
    // Test button_view
    test_start("button_view creation");
    let btn: View = button_view("Click Me");
    if btn.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid button_view handle");
    }
    
    // Test slider_view
    test_start("slider_view creation");
    let slider: View = slider_view(0.0, 100.0, 50.0);
    if slider.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid slider_view handle");
    }
    
    // Test checkbox_view
    test_start("checkbox_view creation");
    let check: View = checkbox_view("Option A", false);
    if check.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid checkbox_view handle");
    }
    
    // Test switch_view
    test_start("switch_view creation");
    let sw: View = switch_view(true);
    if sw.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid switch_view handle");
    }
    
    // Test progress_view
    test_start("progress_view creation");
    let prog: View = progress_view(0.75);
    if prog.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid progress_view handle");
    }
    
    // Test input_view
    test_start("input_view creation");
    let inp: View = input_view("Enter text...");
    if inp.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid input_view handle");
    }
}

// ============================================================
// TEST 4: View Modifiers
// ============================================================
fn test_view_modifiers() -> void {
    println("");
    println("=== VIEW MODIFIERS TESTS ===");
    
    let view: View = text_view("Test View");
    
    // Test background
    test_start("view_set_background");
    view_set_background(view, color_rgba(30, 30, 30, 255));
    test_pass();
    
    // Test padding
    test_start("view_set_padding");
    view_set_padding(view, insets_all(16.0));
    test_pass();
    
    // Test corner radius
    test_start("view_set_corner_radius");
    view_set_corner_radius(view, 12.0);
    test_pass();
    
    // Test shadow
    test_start("view_set_shadow");
    view_set_shadow(view, shadow(0.0, 4.0, 8.0, color_rgba(0, 0, 0, 128)));
    test_pass();
    
    // Test border
    test_start("view_set_border");
    view_set_border(view, 1.0, color_rgba(100, 100, 100, 255));
    test_pass();
    
    // Test opacity
    test_start("view_set_opacity");
    view_set_opacity(view, 0.8);
    test_pass();
    
    // Test size
    test_start("view_set_size");
    view_set_size(view, 200.0, 100.0);
    test_pass();
    
    // Test transform
    test_start("view_set_transform");
    view_set_transform(view, 1.0, 1.0, 0.0);
    test_pass();
    
    // Test hidden
    test_start("view_set_hidden");
    view_set_hidden(view, false);
    test_pass();
    
    // Test enabled
    test_start("view_set_enabled");
    view_set_enabled(view, true);
    test_pass();
}

// ============================================================
// TEST 5: Animation System
// ============================================================
fn test_animation_system() -> void {
    println("");
    println("=== ANIMATION SYSTEM TESTS ===");
    
    let view: View = text_view("Animated");
    
    // Test fade animations
    test_start("animate_fade_in");
    animate_fade_in(view, 0.3);
    test_pass();
    
    test_start("animate_fade_out");
    animate_fade_out(view, 0.3);
    test_pass();
    
    // Test slide animations
    test_start("animate_slide_in");
    animate_slide_in(view, -100.0, 0.0, 0.5);
    test_pass();
    
    test_start("animate_slide_out");
    animate_slide_out(view, 100.0, 0.0, 0.5);
    test_pass();
    
    // Test scale animation
    test_start("animate_scale");
    animate_scale(view, 0.8, 1.0, 0.3);
    test_pass();
    
    // Test rotate animation
    test_start("animate_rotate");
    animate_rotate(view, 360.0, 0.5);
    test_pass();
    
    // Test effect animations
    test_start("animate_pulse");
    animate_pulse(view, 0.5);
    test_pass();
    
    test_start("animate_bounce");
    animate_bounce(view, 0.4);
    test_pass();
    
    test_start("animate_shake");
    animate_shake(view, 0.3);
    test_pass();
    
    // Test color animation
    test_start("animate_color");
    animate_color(view, color_rgba(255, 0, 0, 255), color_rgba(0, 0, 255, 255), 0.5);
    test_pass();
}

// ============================================================
// TEST 6: Easing Functions
// ============================================================
fn test_easing_functions() -> void {
    println("");
    println("=== EASING FUNCTIONS TESTS ===");
    
    // Test linear
    test_start("ease_linear");
    let linear_result: float = ease_linear(0.5);
    if linear_result > 0.49 && linear_result < 0.51 {
        test_pass();
    } else {
        test_fail("Linear should return 0.5 for t=0.5");
    }
    
    // Test quadratic easings
    test_start("ease_in_quad");
    let in_quad: float = ease_in_quad(0.5);
    if in_quad < 0.5 {
        test_pass();  // Should be slower at start
    } else {
        test_fail("ease_in should be slower at start");
    }
    
    test_start("ease_out_quad");
    let out_quad: float = ease_out_quad(0.5);
    if out_quad > 0.5 {
        test_pass();  // Should be faster at start
    } else {
        test_fail("ease_out should be faster at start");
    }
    
    // Test cubic easings
    test_start("ease_in_cubic");
    let in_cubic: float = ease_in_cubic(0.5);
    test_pass();
    
    test_start("ease_out_cubic");
    let out_cubic: float = ease_out_cubic(0.5);
    test_pass();
    
    // Test spring
    test_start("ease_spring");
    let spring_result: float = ease_spring(0.5, 0.5, 0.3);
    test_pass();
    
    // Test bounce
    test_start("ease_bounce");
    let bounce_result: float = ease_bounce(0.5);
    test_pass();
    
    // Test elastic
    test_start("ease_elastic");
    let elastic_result: float = ease_elastic(0.5);
    test_pass();
}

// ============================================================
// TEST 7: Keyframe Animations
// ============================================================
fn test_keyframe_animations() -> void {
    println("");
    println("=== KEYFRAME ANIMATION TESTS ===");
    
    let view: View = text_view("Keyframe Test");
    
    // Test keyframe creation
    test_start("keyframe_create");
    let kf: int = keyframe_create();
    if kf >= 0 {
        test_pass();
    } else {
        test_fail("Invalid keyframe handle");
    }
    
    // Test keyframe adding
    test_start("keyframe_add");
    keyframe_add(kf, 0.0, "opacity", 0.0);
    keyframe_add(kf, 0.5, "opacity", 1.0);
    keyframe_add(kf, 1.0, "opacity", 0.5);
    test_pass();
    
    // Test keyframe apply
    test_start("keyframe_apply");
    keyframe_apply(view, kf, 1.0);
    test_pass();
    
    // Test animation control
    test_start("animation_control");
    animation_set_loop(view, 3);
    animation_set_delay(view, 0.1);
    animation_start(view);
    animation_pause(view);
    animation_resume(view);
    animation_stop(view);
    test_pass();
}

// ============================================================
// TEST 8: Transitions
// ============================================================
fn test_transitions() -> void {
    println("");
    println("=== TRANSITION TESTS ===");
    
    let view1: View = text_view("Page 1");
    let view2: View = text_view("Page 2");
    
    // Test push transition
    test_start("transition_push");
    transition_push(view1, view2, 0.3);
    test_pass();
    
    // Test pop transition
    test_start("transition_pop");
    transition_pop(view2, view1, 0.3);
    test_pass();
    
    // Test fade transition
    test_start("transition_fade");
    transition_fade(view1, view2, 0.3);
    test_pass();
    
    // Test slide transition
    test_start("transition_slide");
    transition_slide(view1, view2, 0, 0.3);  // 0 = left
    test_pass();
    
    // Test zoom transition
    test_start("transition_zoom");
    transition_zoom(view1, view2, 0.3);
    test_pass();
}

// ============================================================
// TEST 9: Window & App
// ============================================================
fn test_window_app() -> void {
    println("");
    println("=== WINDOW & APP TESTS ===");
    
    // Test app creation
    test_start("app_new");
    let app: App = app_new("Test App");
    if app.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid app handle");
    }
    
    // Test window creation
    test_start("app_create_window");
    let win: Window = app_create_window(app, "Test Window", 800, 600);
    if win.handle >= 0 {
        test_pass();
    } else {
        test_fail("Invalid window handle");
    }
    
    // Test window title
    test_start("window_set_title");
    window_set_title(win, "Updated Title");
    test_pass();
    
    // Test window size
    test_start("window_set_size");
    window_set_size(win, 1024, 768);
    test_pass();
    
    // Test window root
    test_start("window_set_root");
    let root: View = vstack(10.0);
    window_set_root(win, root);
    test_pass();
}

// ============================================================
// TEST 10: Complex UI Composition
// ============================================================
fn test_complex_ui() -> void {
    println("");
    println("=== COMPLEX UI COMPOSITION TESTS ===");
    
    test_start("card component");
    // Build a card-like component
    let card: View = vstack(8.0);
    view_set_background(card, color_rgba(40, 40, 50, 255));
    view_set_padding(card, insets_all(16.0));
    view_set_corner_radius(card, 12.0);
    view_set_shadow(card, shadow(0.0, 4.0, 12.0, color_rgba(0, 0, 0, 100)));
    
    let title: View = text_view("Card Title");
    text_set_font_size(title, 18.0);
    text_set_font_weight(title, 600);
    text_set_color(title, color_rgba(255, 255, 255, 255));
    view_add_child(card, title);
    
    let body: View = text_view("Card body content goes here.");
    text_set_font_size(body, 14.0);
    text_set_color(body, color_rgba(180, 180, 180, 255));
    view_add_child(card, body);
    
    let button: View = button_view("Action");
    button_set_style(button, 
        color_rgba(102, 126, 234, 255),
        color_rgba(122, 146, 254, 255),
        color_rgba(82, 106, 214, 255));
    view_add_child(card, button);
    
    test_pass();
    
    test_start("form layout");
    // Build a form layout
    let form: View = vstack(12.0);
    
    let row1: View = hstack(8.0);
    let label1: View = text_view("Name:");
    let input1: View = input_view("Enter name");
    view_add_child(row1, label1);
    view_add_child(row1, input1);
    view_add_child(form, row1);
    
    let row2: View = hstack(8.0);
    let label2: View = text_view("Email:");
    let input2: View = input_view("Enter email");
    view_add_child(row2, label2);
    view_add_child(row2, input2);
    view_add_child(form, row2);
    
    let submit: View = button_view("Submit");
    view_add_child(form, submit);
    
    test_pass();
    
    test_start("settings panel");
    // Build a settings panel
    let settings: View = vstack(16.0);
    
    // Toggle row
    let toggle_row: View = hstack(12.0);
    let toggle_label: View = text_view("Dark Mode");
    let toggle: View = switch_view(true);
    view_add_child(toggle_row, toggle_label);
    view_add_child(toggle_row, spacer());
    view_add_child(toggle_row, toggle);
    view_add_child(settings, toggle_row);
    
    // Slider row
    let slider_row: View = vstack(4.0);
    let slider_label: View = text_view("Volume");
    let slider: View = slider_view(0.0, 100.0, 75.0);
    view_add_child(slider_row, slider_label);
    view_add_child(slider_row, slider);
    view_add_child(settings, slider_row);
    
    // Checkbox row
    let check_row: View = vstack(8.0);
    let check1: View = checkbox_view("Option 1", true);
    let check2: View = checkbox_view("Option 2", false);
    let check3: View = checkbox_view("Option 3", true);
    view_add_child(check_row, check1);
    view_add_child(check_row, check2);
    view_add_child(check_row, check3);
    view_add_child(settings, check_row);
    
    test_pass();
}

// ============================================================
// MAIN - Run All Tests
// ============================================================
fn main() -> int {
    println("========================================");
    println("REOX UI & ANIMATION TEST SUITE");
    println("========================================");
    println("");
    println("Testing REOX runtime functions...");
    
    // Run all test categories
    test_color_system();
    test_layout_system();
    test_widget_system();
    test_view_modifiers();
    test_animation_system();
    test_easing_functions();
    test_keyframe_animations();
    test_transitions();
    test_window_app();
    test_complex_ui();
    
    // Print summary
    test_summary();
    
    println("");
    println("========================================");
    println("Tests complete. Press any key to exit.");
    println("========================================");
    
    return 0;
}
